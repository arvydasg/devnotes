#+title:      blog with built in org export
#+date:       [2023-12-12 Tue 10:27]
#+filetags:  :blog:emacs:
#+identifier: 20231212T102719
#+STARTUP:    overview

* what is org-export-html

Built in Emacs export posibility. Html export is just one of the options.

* How to use it

=C-e h h= command exports .org file without ANY additional settings. It is just
built in Emacs behavior.

Can try it out with such page:

#+begin_src org
  ,* Intro

  ,* Body

  ,** First attempts

  I was trying to do the same with my journey to programming. It started
  a bit more than a year ago and since them I was trying to create
  personal blog/website.

  - First with php - [[https://github.com/arvydasg/gvazdikelis][gvazdikelis]]
  - Then with hugo - [[https://github.com/arvydasg/arvydas.dev_hugo][arvydas.dev_hugo]]
  - Finally with django - [[https://github.com/arvydasg/django_blog][django_blog]]

  ,* Current setup

  [2022-04-17 Sk] I discovered a way to make a website with emacs.
  [[https://systemcrafters.net/publishing-websites-with-org-mode/][Systemcrafters channel]] has a lot of great material covering just that.

  I knew that this is the right way for me to blog, because:

  - I can use my emacs shortcuts to write and edit
  - I don’t need to reformat text to make it readable for something like
    CKEditor in python [[https://github.com/arvydasg/emacs_blog][django]]. I can just straight up use emacs source
    blocks, headings, text blocks and so on and everything just works,
  - I can publish my blog just as easily wit [[https://magit.vc/][Magit]], push straight to
    Github and the changes will be visible immediately in my website,

  ,* Summary

  For me, this is the fastest way to blog. I will be using it in the
  future and hopefully improve my workflow as I go along.

  P.S. Update 2022-08-29. I am creating a hugo blog - AGAIN. Read why -
  [[https://github.com/arvydasg/emacs_blog][here]].
#+end_src

* How to extend it

For "Codeacademy" project, for when I was taking notes for it, I added
additional configuration that you see below to make the site look nicer and add
additional functionality.

** My org file looks like so:

#+begin_src org
  ,#+title: Attempts to Blog
  ,#+date: <2022-06-19 20:04>
  ,#+description:
  ,#+filetags: emacs python

  ,#+attr_html: :width 1200px
  ,#+ATTR_ORG: :width 600
  [[./static/images/emacsblog.png]]

  ,* Intro

  ,* Body

  ,** First attempts

  I was trying to do the same with my journey to programming. It started
  a bit more than a year ago and since them I was trying to create
  personal blog/website.

  - First with php - [[https://github.com/arvydasg/gvazdikelis][gvazdikelis]]
  - Then with hugo - [[https://github.com/arvydasg/arvydas.dev_hugo][arvydas.dev_hugo]]
  - Finally with django - [[https://github.com/arvydasg/django_blog][django_blog]]

  ,* Current setup

  [2022-04-17 Sk] I discovered a way to make a website with emacs.
  [[https://systemcrafters.net/publishing-websites-with-org-mode/][Systemcrafters channel]] has a lot of great material covering just that.

  I knew that this is the right way for me to blog, because:

  - I can use my emacs shortcuts to write and edit
  - I don’t need to reformat text to make it readable for something like
    CKEditor in python [[https://github.com/arvydasg/emacs_blog][django]]. I can just straight up use emacs source
    blocks, headings, text blocks and so on and everything just works,
  - I can publish my blog just as easily wit [[https://magit.vc/][Magit]], push straight to
    Github and the changes will be visible immediately in my website,

  ,* Summary

  For me, this is the fastest way to blog. I will be using it in the
  future and hopefully improve my workflow as I go along.

  P.S. Update 2022-08-29. I am creating a hugo blog - AGAIN. Read why -
  [[https://github.com/arvydasg/emacs_blog][here]].

#+end_src

** The extension with org-html-head/preamble/postamble

The code below adds navigation right after the opening <body> tag and some js
right before the closing </body> tag.

<head> html content is added from within the org file, dont forget to change
the “title” and “content” the file.

#+begin_src emacs-lisp
  ;; leaving this content to be in specific org files instead

  ;; (setq org-html-head
  ;;       (concat
  ;;        "<head>\n"
  ;;        "<meta charset=\"UTF-8\">\n"
  ;;        "<meta name=\"description\" content=\"CodeAcademy Python notes\">\n"
  ;;        "<link rel=\"alternate\" type=\"application/rss+xml\" href=\"https://arvydasg.github.io/rss.xml\" title=\"RSS feed for https://arvydasg.github.io/\">\n"
  ;;        "<title>CodeAcademy Databases</title>\n"
  ;;        "<!-- Google Tag Manager -->\n"
  ;;        "<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-MC4ZQHP');</script>\n"
  ;;        "<!-- End Google Tag Manager -->\n"
  ;;        "<meta name=\"author\" content=\"Arvydas Gasparavicius\">\n"
  ;;        "<meta name=\"referrer\" content=\"no-referrer\">\n"
  ;;        "<meta name=\"viewport\" content=\"initial-scale=1,width=device-width,minimum-scale=1\">\n"
  ;;        "<link href=\"../readtheorg.css\" rel=\"stylesheet\" type=\"text/css\" />\n"
  ;;        "<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\" />\n"
  ;;        "<script src=\"static/lightbox.js\"></script>\n"
  ;;        "<script src=\"static/auto-render.min.js\"></script>\n"
  ;;        "<link rel=\"icon\" href=\"static/ag.ico\">\n"
  ;;        "</head>\n"
  ;;        ))

  (setq org-html-preamble
        (concat
         "<body>\n"
         "
  <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-MC4ZQHP\"
                        height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <nav class=\"text-center navbar navbar-expand-lg navbar-light bg-light\">
              <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">
                  <span class=\"navbar-toggler-icon\"></span>
              </button>
              <div style=\"justify-content:center\" class=\"collapse navbar-collapse \" id=\"navbarNav\">
                  <ul class=\"navbar-nav\">
                      <li class=\"nav-item\">
                          <a class=\"nav-link\" href=\"https://arvydas.dev/codeacademy/\">Home <span class=\"sr-only\">(current)</span></a>
                      </li>
                      <li class=\"nav-item\">
                          <a class=\"nav-link\" href=\"https://arvydas.dev/codeacademy/html_css/index.html\">HTML/CSS</a>
                      </li>
                      <li class=\"nav-item\">
                          <a class=\"nav-link\" href=\"https://arvydas.dev/codeacademy/javascript/index.html\">JavaScript</a>
                      </li>
                      <li class=\"nav-item\">
                          <a class=\"nav-link \" href=\"https://arvydas.dev/codeacademy/python/index.html\">Python</a>
                      </li>
                      <li class=\"nav-item\">
                          <a class=\"nav-link active \" href=\"https://arvydas.dev/codeacademy/databases/index.html\">Databases</a>
                      </li>
                      <li class=\"nav-item\">
                          <a class=\"nav-link \" href=\"https://arvydas.dev/codeacademy/flask/index.html\">Flask</a>
                      </li>
                  </ul>
              </div>
      </nav>"
         ))

  (setq org-html-postamble
        (concat
         "<!-- bootstrap scripts -->\n"
         "<script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\n"
         "        integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\n"
         "        crossorigin=\"anonymous\"></script>\n"
         "<script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js\"\n"
         "        integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\n"
         "        crossorigin=\"anonymous\"></script>\n"
         "<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js\"\n"
         "        integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\n"
         "        crossorigin=\"anonymous\"></script>\n"
         "<button onclick=\"topFunction()\" id=\"myBtn\" title=\"Go to top\">Top</button>\n"
         "<script src=\"../scripts.js\"></script>\n"
         "</body>\n"
         "</html>\n"
         ))

#+end_src

* Limitations

- no tags
- exports in the same folder
- if multiple files have changes - run the export for multiple files. too much
  hassle.
